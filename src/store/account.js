import axios from '@axios'
import router from '@/router'

export default {
  namespaced: true,
  state: {
    loggedIn: false,
    jwt: '',
    name: 'David Martinez',
    type: 'Administrador',
    pp: 'data:image/jpeg;base64,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',
  },
  mutations: {
    updateData(state, data) {
      state.name = data.name
      state.type = data.type
      state.pp = data.pp
    },
    loginSuccess(state, token) {
      state.loggedIn = true
      state.jwt = token
    },
  },
  actions: {
    login({ commit }, { username, password }) {
      axios.request({
        method: 'POST',
        url: 'https://api.esquimal.mx/auth/token',
        headers: { 'Content-Type': 'application/json' },
        data: { username, password },
      }).then(res => {
        commit('loginSuccess', res.data.token)
        router.push('dashboard')
      }).catch(error => {
        console.log(error)
      })
    },
  },
  getters: {},
}
